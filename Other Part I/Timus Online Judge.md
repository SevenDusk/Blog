# 1424.Minibus

## 题目大意

有一辆车，从$1$号站点开向$n$号站点，车上的有$m$个座位，现在有$k$​个乘客，从$s_i$出发到$t_i$，每一个乘客可以赚

$p$元，问最多可以有赚多少元
$$
n\leq 100000\\
m\leq 1000\\
k\leq 50000\\
p\leq 10000
$$

## 算法讨论

可以转化为区间m覆盖问题，可以用费用流解决，但是这里这样做显然会超时

**但是注意到每一个区间的价值都是相同的**，那么我们只需要最大化选出来的区间个数，如果$m=1$是一个经典的贪心，按区间右端点进行排序，然后查看当前区间和之前的区间是否有交，如果有交就不选否则就选

考虑扩展到$m\geq 1$的情况，那么就是查看当前区间范围内最大的覆盖次数是否$<m$

证明：就是由于是按右端点排序的，那么当前找到右端点为i的区间时，只有$\leq i$的位置上会被覆盖到，如果当前不选，留给后面的区间选，由于区间是连续的，即使没有覆盖到当前这个位置，相对靠后的位置也会被覆盖到，对之后的区间影响只会不会更优，如果覆盖到这个位置，改为当前这个区间显然更优

那么只需要用线段树动态维护每一个位置被区间覆盖了多少次，支持区间询问最大值

时间复杂度$O(n\log n)$

第一次提交:Accepted

# 1474.About Frogs

## 题目大意

现在有$n$个白青蛙，$n$个黑青蛙，白青蛙在$[0,n-1]$的位置上，黑青蛙在$[n+1,2n]$的位置上，$n$​为空格，如果白青蛙可以跳到右边的空格或者越过黑青蛙跳一步，构造一个操作序列使得交换白青蛙和黑青蛙的位置

如果操作数$>10^6$，那么输出0
$$
n\leq 499
$$

## 算法讨论

这道题比较有意思

首先需要分析一下操作的下界，由于白青蛙和黑青蛙需要交换位置，如果不考虑跨越的情况，白青蛙和黑青蛙至少需要跳$2n(n+1)$​​次，再考虑有跨越的情况，跨越的情况最多可以进行$n^2$次，由于每一次跨域都会节省一次单步跳，那么操作次数为$2n(n-1)-n^2$，对于极限数据，不存在输出0的情况

然后考虑构造，由于可以跨越，那么目标就是一步一步将黑白相间其来，最后抽离出其中的一个颜色

通过模拟小数据，可以发现如下的构造

- 如果当前空格左边为白右边为黑
  - 如果当前空格位置$<n$，那么白向右跳一步
  - 如果当前空格位置$\geq n+1$，那么黑向左跳一步

- 如果空格不在最右边或者最左边，那么一定唯一存在可以跨越的情况，那么就跨越，否则就移动相应的位置

时间复杂度$O(n^2)$

第一次提交:Accepted

# 1486.Equal Squares

## 题目大意

在$n*m$的矩阵中找出最大的两个$k*k$矩阵，使得这两个矩阵每一个位置上的字符相同，输出最大的k和方案
$$
n\leq 500
$$

## 算法讨论

首先就考虑枚举$k$，**肯定需要利用上一次处理好的信息**来得到当前k是否存在两个方阵完全相同

对于一个位置$(x,y)$来说，如果在$k-1$的时候，$(x+1,y),(x,y+1),(x+1,y+1)$这三个位置也是相同的**并且$s(x,y)$也是相同的**（一开始漏了这个！！），那么就可以说明当前$(x,y)$在k的情况下也是相同的

那么就相当于对于每一个位置有4元组，两个位置是相同的当且仅当这两个位置对应的四元组相同

我们可以对不同的四元组进行编号，这个四元组代替为这个编号，那么在下一轮进行更新的时候，方便得到新的四元组

对于编号过程中需要使用哈希表，由于unordered_map 速度太慢，需要手写，映射过程可以使用进制的思想

时间复杂度$O(n^3)$

第一次提交:Wrong Answer

# 1456.Jedi Riddle 2

## 题目大意

求最小的x满足$A^x\equiv 1(\bmod N)$
$$
A,N\leq 10^9
$$

## 算法讨论

扩展欧拉定理
$$
a^{x}\equiv \left\{\begin{matrix}a^{x \bmod \varphi (p)} & gcd(a,p)=1 \\ a^{x} & gcd(a,p)\neq 1,x<\varphi(p) & \\ a^{(x \bmod \varphi(p))+\varphi(p)} & gcd(a,p)\neq 1,x\geq \varphi(p)\end{matrix}\right.(\bmod p)
$$
首先当$(A,N)\neq 1$的时候，是不存在解的，因为可以提出他们的gcd，那么取模的结果一定是$(A,N)$的倍数

那么只要考虑$(A,N)=1$的情况，由于$x=\phi(p)$时$A^x=1$

由于周期是$\phi(p)$，那么只需要枚举$\phi(p)$的所有因子即可

时间复杂度$O(\sqrt n)$

第一次提交:Accepted

# 1462.Uncle Scrooge's Gold

## 题目大意

求F(n)为斐波那契数列第n项
$$
\lfloor \frac{F(2*n-2)}{F(n-2)} \rfloor
$$

## 算法讨论

没什么好说的，用矩阵算出斐波那契数，高精度乘加除

先后尝试了普通高精，乘法用FFT优化，压位高精，压位高精乘法用FFT优化，始终过不去。。

最后用python自带的过去了。。。

# 1468. Fraction

## 题目大意

将分数$\frac{a}{b}$转化为$k$进制
$$
a,b\leq 10000\\
k\leq 36
$$

## 算法讨论

整数部分很好处理，直接转化即可

小数部分进制转化是每一次乘上k，然后取整数部分，那么相当于是$\lfloor \frac{ak}{b} \rfloor $

最后将$a'=ak \% b$​，直到出现循环节或者$a=0$

由于可能存在循环节，那么记录一下每一种a在哪一个位置出现，只要重复出现了a，那么就说明找到了循环节，

由于a最多只有10000个，那么直接模拟就可以了

时间复杂度：$O(a)$

第一次提交:Accepted

# 1498. Stroke at Full Speed

## 题目大意

从(a,b)出发需要走到$(c,d)$相邻的一个位置，并且过程中不能经过$(c,d)$，一条路径的价值就是最后走的直线距离+1，求最大价值
$$
n\leq 100
$$

## 算法讨论

也没啥好说的

先bfs处理出$(a,b)$到每一个位置的最短路，然后再枚举$(c,d)$​周围的位置，然后求出枚举同一行同一列的位置，查看是否在限制之内，然后求出答案即可

**注意需要判断无法走到的情况**

时间复杂度$O(n^2)$

第一次提交:Wrong Answer