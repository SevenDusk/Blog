# The lightest language

## 题目大意

给出一个字符集，每一个字符都有$w_i$的代价，现在要生成$n$个字符串，一个字符串的代价就是所有字符代价之和，并且这些字符串互相不是前缀关系，求最小代价
$$
n\leq 10000,k\leq 26
$$

## 算法讨论

首先，可以对所有串建出一个trie，那么所有串在trie上表示的节点都是叶子节点

一开始我想是的每一步扩展出一个叶子节点，结果成功WA了

首先给代价排一个序，会发现，如果从一个叶子扩展出去，代价是$v_x+a_1+a_2$，而后面一步的代价是$v_x+a_3$，那么如果$a_3<a_1+a_2$，那么这个贪心就不是每一步代价递增的，就是错的

后来发现，搞一个类似可撤销贪心的东西，可以解决这个问题

一开始先将第一层所有的节点，加入选择方案，然后选出最小的向下扩展一层，将不优的方案剔除掉，然后保证所选集合中元素个数始终$\leq n$，直到方案变劣

时间复杂度$O(kn\log n)$

# 1373.Pictura ex Machina

## 题目大意

给定若干折线，规定一个折线由两个点确定$a,b$，从a出发向某一个方向走$d$，然后顺时针旋转90度，在走d走到$b$

求将折线放到一个最小的矩形中，矩形的长和宽

## 算法讨论

只要将a,b的中垂线求出，然后移动a,b距离的一半，得到折线的中间端点，然后将所有端点x,y坐标的最大最小值求出，每一维最大最小之差就是答案

# 1339. Babies

## 题目大意

现在有n个男孩，n个女孩，每一个人都可能有喜欢的对象，一个人最多只能被一个喜欢，现在要求配对，使得每一对中至少存在一个人喜欢另外一个人
$$
n\leq 250000
$$

## 算法讨论

连出的图一定只有链和长度为偶数的环

其中链只要从开头每两个配成一对就一定符合条件，环同样

那么先根据度数判断链的端点，然后在结束之后，如果还存在度数>0的那么就说明是一个环，破环为链即可

# 1324. Extra Spaces

## 题目大意

给定$n$，每一轮都可以选择一个$k$，将$n$替换成$n/k+n\%k$

求出最小的轮数使得对于任意$l\in [1,n]$，都可以通过这么多轮最终变为1，并且在最小的轮数条件满足后，最大化可以满足的$n$的方案，输出方案

## 算法讨论

设$f(n)$表示最小的轮数，考虑如果当前枚举的是$k$

显然在这一轮施加k的话得到的数的值域仍然是连续的，并且其得到的最大值$l$一定是模k等于k-1的，那么可以得到最大的$l=\lfloor \frac{n}{k}\rfloor k-1$，得到的最大值$r=\lfloor \frac{n+1}{k}\rfloor +k-2$

那么去更新的就是$f(r)+1$

考虑当前$f(n)=f(r)+1$的情况，显然我们需要找到最大的$pos$使得$f(pos)=f(r)$，由于$f$一定是单调的，相同的数就是一段区间，这个可以通过并查集实现，那么最大的合法$n$就是
$$
\lfloor \frac{n+1}{k}\rfloor +k-2=pos\\
n=k*(pos-k+3)-2
$$
那么要让$n$最大化，那么k应该在$\frac{pos+3}{2}$左右，可以上下波动10枚举

那么一开始让r尽量小，$k$在$\sqrt n$左右波动，求出最优$f(n)$再求出$pos$

时间复杂度$O(n\log n +20n)$

# 1364. LaraKiller

## 题目大意

有$n\times m$的网格，从(1,1)开始顺时针旋转走，走到$(x_t,y_t)$，然后求出按照这个路径从$(x_c,y_c)$距离不超过$T$的所有位置
$$
n,m\leq 100
$$

## 算法讨论

直接将路径上每一个点求出，按照顺序存，然后求出$(x_c,y_c)$对应的位置，左右T个输出即可

# 1398. Bishop and Pawn

## 题目大意

国际象棋棋盘上存在一个白象，一个黑兵，白色先走

游戏平局当且仅当轮到黑方的时候黑兵无法向前走，黑方赢当且仅当走到底线变成皇后，并且白象一步之内无法吃掉，其他情况都是白方赢

## 算法讨论

直接搜索，注意黑兵第一步并不能走两格，需要判断可以直接吃掉白象的情况

对于白方走的情况，需要在所有情况中找到最佳的选项，白方胜好于平局好于黑方胜

注意记忆化一下即可

# 1317. Hail

## 题目大意

给定n个点的凸多边形，边长有高度，现在有一个激光点，可以摧毁d之内的冰雹，求可以摧毁多少个冰雹

## 算法讨论

直接枚举每一个冰雹，然后枚举凸多边形上每一条边，求出在激光被边挡住之前的最小距离，查看是否小于d即可

# 1331. Vladislava

## 题目大意

给定球面上若干点，给出经度纬度，然后有若干飞碟需要降落，求出最小降落距离

## 算法讨论

直接用球面上距离公式就可以了，找出最小点

