# B.clique

首先考虑一个合法的子集$S$，并且我们要求这个子集满足对于任意节点$x\not \in S$一定存在$y\in S$使得$x,y$之间不存在边

那么考虑另外一个子集$T$，显然如果$T$没有包含$S$中两个以上节点的话，那么$T$一定不合法

那么如果$S\subseteq T$，由于我们保证了不存在一个不在$S$中的节点与所有S中的节点有连边，那么说明$T$不可能再增加一个元素，那么$T=S$

如果令$x\in S$，如果$S\backslash \{x\}\subseteq T$，那么此时$T$可以等于$S\backslash\{x\}$或者找一个元素$y\not \in S$，满足$y$与所有$z\in S\backslash \{x\}$的节点之间存在连边

并且我们只能加入一个这样的元素，如果加入了两个元素$y,z\not \in S$，由于$y,z$之间没有边，那么显然一定是不合法的

那么说明最终答案为$O(n)$级别的，只要我们找到一个合法的$S$就可以得到所有其他合法的子集

## Solution 1

一种方法是考虑2-sat，一个节点只有两种状态，一种是在$S$中，一种不在$S$中，考虑如何进行限制

- 如果$u,v$之间存在连边，那么说明如果u不在$S$中$v$一定要在$S$中，反之同理

- 如果$u,v$之间不存在连边，那么说明如果$u$在$S$中$v$一定不要在$S$中，反之同理

那么对存在连边的直接连即可，对于不存在连边的就需要线段树进行优化建图（事实上不需要显式的建出，只需要的dfs过程中进行线段树查询即可，以减小常数）

这样的是时间复杂度$O((n+m)\log n)$

## Solution 2

考虑三元环的求解过程，我们关系的是度数，如果我们按照度数进行从大到小排序，那么$S$中所有节点形成了一个度数序列的前缀，并且我们要求限制使得$x\not\in S,\deg x\leq |S|-1$，而对于$x\in S,\deg x\geq |S|-1$

直接排序即可$O(n\log n+m)$

# C.subseq

